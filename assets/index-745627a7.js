import{r as h,v as g,j as e,B as c,q as N,c as n,D as r,d as y,L as j}from"./index-85ab92a3.js";import{T as b}from"./Table-45a31287.js";import{P as a}from"./Pagination-9ee162b2.js";const A={marginBottom:"3%"},C=()=>{const[l,x]=h.useState([]),m=g();function u(i){const t=`; ${document.cookie}`.split(`; ${i}=`);return t.length===2?t.pop().split(";").shift():""}const o=u("access");return h.useEffect(()=>{async function i(){try{const t=await(await fetch("http://localhost:8000/api/listeusers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).json();x(t),console.log(JSON.stringify(t))}catch(s){console.error("Failed to fetch data:",s)}}i()},[o]),e.jsxs(e.Fragment,{children:[e.jsx("h4",{style:A,children:"Utilisateurs"}),e.jsx(c,{style:{width:"10%",marginBottom:"2.5%"},onClick:()=>m("/ajout_user"),variant:"primary",children:"Ajouter"}),e.jsx(N,{xl:12,children:e.jsxs(n,{children:[e.jsxs(n.Header,{className:"d-flex justify-content-between align-items-center",children:[e.jsx(n.Title,{children:"Liste des utilisateurs"}),e.jsxs(r,{className:"ms-auto",children:[e.jsx(r.Toggle,{variant:"light",className:"p-0 btn-icon btn-md arrow-none",children:e.jsx("i",{className:"fi fi-bs-menu-dots-vertical"})}),e.jsxs(r.Menu,{align:"end",children:[e.jsx(r.Item,{children:"Share"}),e.jsx(r.Item,{children:"Refresh"}),e.jsx(y,{}),e.jsx(r.Item,{children:"All Channels"})]})]})]}),e.jsxs(b,{responsive:!0,bordered:!0,hover:!0,className:"mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Nom"}),e.jsx("th",{children:"Postnom"}),e.jsx("th",{children:"Adresse email"}),e.jsx("th",{children:"Type d'utilisateur"}),e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Date d'inscription"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center text-muted",children:"Aucun formulaire trouvÃ©."})}):l.map(({id:i,first_name:s,last_name:t,type_user:p,email:f,date_joined:v},d)=>e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:s}),e.jsx("td",{children:t}),e.jsx("td",{children:f}),e.jsx("td",{children:p}),e.jsxs("td",{children:[e.jsx(j,{to:"/voir_reponses/1",children:e.jsx(c,{className:"me-2",variant:"success",children:"Voir"})}),e.jsx(j,{to:"/voir_reponses/1",children:e.jsx(c,{className:"me-2",variant:"primary",children:"Activer"})})]}),e.jsx("td",{children:v})]},d))})]}),e.jsx(n.Footer,{className:"border-top-0",children:e.jsxs(a,{className:"mb-0",children:[e.jsx(a.Prev,{}),[...Array(4)].map((i,s)=>e.jsx(a.Item,{children:s+1},s)),e.jsx(a.Next,{})]})})]})})]})};export{C as default};
