import{al as X,am as Z,an as ee,r as a,ao as te,ap as ne,aq as se,ar as M,as as oe,at as S,au as ae,av as re,aw as le,Y as ie,a1 as P,j as p,a2 as b,a4 as L,ax as H,ay as K,a7 as ce,az as ue,aA as U,aB as B,ad as de,aC as fe,aD as ve}from"./index-85ab92a3.js";import{u as he}from"./useTimeout-bd7e4fa5.js";const me=()=>{};function pe(e,n,{disabled:t,clickTrigger:s}={}){const o=n||me;X(e,o,{disabled:t,clickTrigger:s});const l=Z(i=>{ee(i)&&o(i)});a.useEffect(()=>{if(t||e==null)return;const i=te(ne(e));let h=(i.defaultView||window).event;const u=se(i,"keyup",f=>{if(f===h){h=void 0;return}l(f)});return()=>{u()}},[e,t,l])}const z=a.forwardRef((e,n)=>{const{flip:t,offset:s,placement:o,containerPadding:l,popperConfig:i={},transition:h,runTransition:u}=e,[f,y]=M(),[O,w]=M(),v=oe(y,n),d=S(e.container),T=S(e.target),[r,m]=a.useState(!e.show),c=ae(T,f,re({placement:o,enableEvents:!!e.show,containerPadding:l||5,flip:t,offset:s,arrowElement:O,popperConfig:i}));e.show&&r&&m(!1);const x=(..._)=>{m(!0),e.onExited&&e.onExited(..._)},C=e.show||!r;if(pe(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;const{onExit:k,onExiting:R,onEnter:E,onEntering:N,onEntered:j}=e;let $=e.children(Object.assign({},c.attributes.popper,{style:c.styles.popper,ref:v}),{popper:c,placement:o,show:!!e.show,arrowProps:Object.assign({},c.attributes.arrow,{style:c.styles.arrow,ref:w})});return $=le(h,u,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$,onExit:k,onExiting:R,onExited:x,onEnter:E,onEntering:N,onEntered:j}),d?ie.createPortal($,d):null});z.displayName="Overlay";const ge=z,A=a.forwardRef(({className:e,bsPrefix:n,as:t="div",...s},o)=>(n=P(n,"popover-header"),p.jsx(t,{ref:o,className:b(e,n),...s})));A.displayName="PopoverHeader";const ye=A,W=a.forwardRef(({className:e,bsPrefix:n,as:t="div",...s},o)=>(n=P(n,"popover-body"),p.jsx(t,{ref:o,className:b(e,n),...s})));W.displayName="PopoverBody";const q=W;function V(e,n){let t=e;return e==="left"?t=n?"end":"start":e==="right"&&(t=n?"start":"end"),t}function Y(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Oe=a.forwardRef(({bsPrefix:e,placement:n="right",className:t,style:s,children:o,body:l,arrowProps:i,hasDoneInitialMeasure:h,popper:u,show:f,...y},O)=>{const w=P(e,"popover"),v=L(),[d]=(n==null?void 0:n.split("-"))||[],T=V(d,v);let r=s;return f&&!h&&(r={...s,...Y(u==null?void 0:u.strategy)}),p.jsxs("div",{ref:O,role:"tooltip",style:r,"x-placement":d,className:b(t,w,d&&`bs-popover-${T}`),...y,children:[p.jsx("div",{className:"popover-arrow",...i}),l?p.jsx(q,{children:o}):o]})}),we=Object.assign(Oe,{Header:ye,Body:q,POPPER_OFFSET:[0,8]}),G=a.forwardRef(({bsPrefix:e,placement:n="right",className:t,style:s,children:o,arrowProps:l,hasDoneInitialMeasure:i,popper:h,show:u,...f},y)=>{e=P(e,"tooltip");const O=L(),[w]=(n==null?void 0:n.split("-"))||[],v=V(w,O);let d=s;return u&&!i&&(d={...s,...Y(h==null?void 0:h.strategy)}),p.jsxs("div",{ref:y,style:d,role:"tooltip","x-placement":w,className:b(t,e,`bs-tooltip-${v}`),...f,children:[p.jsx("div",{className:"tooltip-arrow",...l}),p.jsx("div",{className:`${e}-inner`,children:o})]})});G.displayName="Tooltip";const Re=Object.assign(G,{TOOLTIP_OFFSET:[0,6]});function Ee(e){const n=a.useRef(null),t=P(void 0,"popover"),s=P(void 0,"tooltip"),o=a.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(n.current){if(H(n.current,t))return we.POPPER_OFFSET;if(H(n.current,s))return Re.TOOLTIP_OFFSET}return[0,0]}}}),[e,t,s]);return[n,[o]]}function Te(e,n){const{ref:t}=e,{ref:s}=n;e.ref=t.__wrapped||(t.__wrapped=o=>t(B(o))),n.ref=s.__wrapped||(s.__wrapped=o=>s(B(o)))}const J=a.forwardRef(({children:e,transition:n=U,popperConfig:t={},rootClose:s=!1,placement:o="top",show:l=!1,...i},h)=>{const u=a.useRef({}),[f,y]=a.useState(null),[O,w]=Ee(i.offset),v=K(h,O),d=n===!0?U:n||void 0,T=ce(r=>{y(r),t==null||t.onFirstUpdate==null||t.onFirstUpdate(r)});return ue(()=>{f&&i.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[f,i.target]),a.useEffect(()=>{l||y(null)},[l]),p.jsx(ge,{...i,ref:v,popperConfig:{...t,modifiers:w.concat(t.modifiers||[]),onFirstUpdate:T},transition:d,rootClose:s,placement:o,show:l,children:(r,{arrowProps:m,popper:c,show:x})=>{var C,k;Te(r,m);const R=c==null?void 0:c.placement,E=Object.assign(u.current,{state:c==null?void 0:c.state,scheduleUpdate:c==null?void 0:c.update,placement:R,outOfBoundaries:(c==null||(C=c.state)==null||(k=C.modifiersData.hide)==null?void 0:k.isReferenceHidden)||!1,strategy:t.strategy}),N=!!f;return typeof e=="function"?e({...r,placement:R,show:x,...!n&&x&&{className:"show"},popper:E,arrowProps:m,hasDoneInitialMeasure:N}):a.cloneElement(e,{...r,placement:R,arrowProps:m,popper:E,hasDoneInitialMeasure:N,className:b(e.props.className,!n&&x&&"show"),style:{...e.props.style,...r.style}})}})});J.displayName="Overlay";const xe=J;function Ce(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function I(e,n,t){const[s]=n,o=s.currentTarget,l=s.relatedTarget||s.nativeEvent[t];(!l||l!==o)&&!ve(o,l)&&e(...n)}de.oneOf(["click","hover","focus"]);const Fe=({trigger:e=["hover","focus"],overlay:n,children:t,popperConfig:s={},show:o,defaultShow:l=!1,onToggle:i,delay:h,placement:u,flip:f=u&&u.indexOf("auto")!==-1,...y})=>{const O=a.useRef(null),w=K(O,t.ref),v=he(),d=a.useRef(""),[T,r]=fe(o,l,i),m=Ce(h),{onFocus:c,onBlur:x,onClick:C}=typeof t!="function"?a.Children.only(t).props:{},k=g=>{w(B(g))},R=a.useCallback(()=>{if(v.clear(),d.current="show",!m.show){r(!0);return}v.set(()=>{d.current==="show"&&r(!0)},m.show)},[m.show,r,v]),E=a.useCallback(()=>{if(v.clear(),d.current="hide",!m.hide){r(!1);return}v.set(()=>{d.current==="hide"&&r(!1)},m.hide)},[m.hide,r,v]),N=a.useCallback((...g)=>{R(),c==null||c(...g)},[R,c]),j=a.useCallback((...g)=>{E(),x==null||x(...g)},[E,x]),$=a.useCallback((...g)=>{r(!T),C==null||C(...g)},[C,r,T]),_=a.useCallback((...g)=>{I(R,g,"fromElement")},[R]),Q=a.useCallback((...g)=>{I(E,g,"toElement")},[E]),D=e==null?[]:[].concat(e),F={ref:k};return D.indexOf("click")!==-1&&(F.onClick=$),D.indexOf("focus")!==-1&&(F.onFocus=N,F.onBlur=j),D.indexOf("hover")!==-1&&(F.onMouseOver=_,F.onMouseOut=Q),p.jsxs(p.Fragment,{children:[typeof t=="function"?t(F):a.cloneElement(t,F),p.jsx(xe,{...y,show:T,onHide:E,flip:f,placement:u,popperConfig:s,target:O.current,children:n})]})},Pe=Fe;export{Pe as O,we as P,Re as T};
