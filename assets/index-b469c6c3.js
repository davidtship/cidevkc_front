import{x as f,r as o,v as j,j as e,q as g,c as m}from"./index-85ab92a3.js";const y=()=>{var h;const{id:c}=f(),[n,p]=o.useState([]),[l,u]=o.useState({});j();function x(s){const t=`; ${document.cookie}`.split(`; ${s}=`);if(t.length===2)return t[1].split(";")[0]}const d=x("access");return o.useEffect(()=>{async function s(){var r,t;try{const i=await(await fetch(`http://localhost:8000/api/returndataformuser/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}})).json();p((r=i[0])==null?void 0:r.form),u((t=i[0])==null?void 0:t.user)}catch(a){console.error("Failed to fetch data:",a)}}s()},[d,c]),n?e.jsxs("div",{children:[e.jsx("h1",{children:n.title}),e.jsxs("h6",{style:{marginTop:"10px",marginLeft:"50px"},children:["Utilisateur : ",l.first_name," ",l.last_name]}),e.jsx(g,{xl:12,children:(h=n.categories)==null?void 0:h.map((s,r)=>{var t;return e.jsx("div",{style:{padding:20,marginBottom:30},children:e.jsx(m,{style:{width:"60%"},children:e.jsxs(m.Body,{children:[e.jsxs("h2",{style:{fontSize:"1.6em"},children:["Section ",r+1,": ",s.title]}),(t=s.questions)==null?void 0:t.map((a,i)=>e.jsxs("div",{style:{marginTop:20},children:[e.jsx("h4",{style:{fontSize:"1.2em"},children:a.label}),e.jsx("p",{children:a.reponse})]},a.id??i))]})})},s.id??r)})})]}):e.jsx("p",{children:"Chargement..."})};export{y as default};
