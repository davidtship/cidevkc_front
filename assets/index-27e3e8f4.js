import{r as h,v as g,j as s,B as e,q as f,c as t,D as i,d as y,L as o}from"./index-85ab92a3.js";import{T as N}from"./Table-45a31287.js";import{P as l}from"./Pagination-9ee162b2.js";const b={marginBottom:"3%"},C=()=>{const[x,m]=h.useState([]);async function c(r){await(await fetch("http://localhost:8000/api/changestatus/"+r,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),location.reload()}h.useEffect(()=>{async function r(){const a=await(await fetch("http://localhost:8000/api/form",{method:"GET",headers:{"Content-Type":"application/json"}})).json();m(a)}r()},[]);const j=g();return s.jsxs(s.Fragment,{children:[s.jsx("h4",{style:b,children:"Questionnaires"}),s.jsx(e,{style:{width:"10%",marginBottom:"2.5%"},onClick:()=>j("/ajouter_formulaire"),variant:"primary",children:"Ajouter"}),s.jsx(f,{xl:18,children:s.jsxs(t,{children:[s.jsxs(t.Header,{className:"py-3 pe-3 d-flex justify-content-between align-items-center",children:[s.jsx(t.Title,{children:"Questionnaire"}),s.jsxs(i,{className:"ms-auto",drop:"down",children:[s.jsx(i.Toggle,{variant:"light",className:"p-0 btn-icon btn-md arrow-none",children:s.jsx("i",{className:"fi fi-bs-menu-dots-vertical"})}),s.jsxs(i.Menu,{align:"end",style:{marginTop:"0.875rem"},children:[s.jsxs(i.Item,{children:[s.jsx("i",{className:"fi fi-rr-share"}),s.jsx("span",{className:"ms-3",children:"Share"})]}),s.jsxs(i.Item,{children:[s.jsx("i",{className:"fi fi-rr-refresh"}),s.jsx("span",{className:"ms-3",children:"Refresh"})]}),s.jsx(y,{}),s.jsxs(i.Item,{children:[s.jsx("i",{className:"fi fi-rr-stats"}),s.jsx("span",{className:"ms-3",children:"All Channels"})]})]})]})]}),s.jsxs(N,{responsive:!0,className:"mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{children:"Titre"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:"Lien"}),s.jsx("th",{children:"Date"}),s.jsx("th",{scope:"row",children:"Utilisateurs"})]})}),s.jsx("tbody",{children:x.map(({title:r,lien:n,id:a,created_at:p,statut:d},u)=>s.jsxs("tr",{children:[s.jsx("td",{children:r}),s.jsx("td",{children:d?s.jsx("span",{className:"badge bg-primary-subtle text-primary",children:"Publié"}):s.jsx("span",{className:"badge bg-primary-subtle text-primary",children:"Non publié"})}),s.jsxs("td",{children:[d?s.jsx(e,{onClick:()=>c(a),style:{marginRight:"10px"},variant:"secondary",children:s.jsx("span",{className:"",children:"Retirer"})}):s.jsx(e,{onClick:()=>c(a),style:{marginRight:"10px"},variant:"success",children:s.jsx("span",{className:"",children:"Publier"})}),s.jsx(o,{to:"/voir_formulaire/"+a,children:s.jsx(e,{style:{marginRight:"10px"},variant:"primary",children:s.jsx("span",{className:"",children:"Voir"})})}),s.jsx(e,{style:{marginRight:"10px"},variant:"secondary",children:s.jsx("span",{className:"",children:"Modifier"})}),s.jsx(e,{style:{marginRight:"10px"},variant:"danger",children:s.jsx("span",{className:"",children:"Supprimer"})})]}),s.jsx("td",{children:d?s.jsx(o,{to:"/apercu/"+a,children:s.jsx(e,{style:{marginRight:"10px"},variant:"success",children:s.jsx("span",{className:"",children:"Apercu"})})}):s.jsx(e,{onClick:()=>c(a),style:{marginLeft:"-20px"},variant:"contained",children:s.jsx("span",{className:"",children:"Non disponible"})})}),s.jsx("td",{children:p}),s.jsx("td",{children:"davidtship"})]},u))})]}),s.jsx(t.Footer,{className:"border-top-0",children:s.jsxs(l,{className:"mb-0",children:[s.jsx(l.Prev,{}),[...Array(4)].map((r,n)=>s.jsx(l.Item,{children:n+1},n)),s.jsx(l.Next,{})]})})]})})]})};export{C as default};
